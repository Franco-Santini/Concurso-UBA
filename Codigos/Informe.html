<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="generator" content="pandoc" />

        <meta name="author" content="Gazze Simón, Moresi Manuel, Santini Franco" />
    
        <meta name="date" content="2025-08-24" />
    
    <title>La Casa de Asterión: estimación de demanda y optimización de precios de artículos de venta minorista</title>

        <script src="Informe_files/header-attrs-2.29/header-attrs.js"></script>
        <script src="Informe_files/jquery-3.6.0/jquery-3.6.0.min.js"></script>
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="Informe_files/bootstrap-3.3.7/css/bootstrap.min.css" rel="stylesheet" />
        <script src="Informe_files/bootstrap-3.3.7/js/bootstrap.min.js"></script>
        <script src="Informe_files/navigation-1.1/tabsets.js"></script>
        <link href="Informe_files/readthedown-0.1/readthedown.css" rel="stylesheet" />
        <link href="Informe_files/readthedown-0.1/readthedown_fonts_embed.css" rel="stylesheet" />
        <script src="Informe_files/readthedown-0.1/readthedown.js"></script>
        <script src="Informe_files/kePrint-0.0.1/kePrint.js"></script>
        <link href="Informe_files/lightable-0.0.1/lightable.css" rel="stylesheet" />
        <link href="Informe_files/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet" />
        <script src="Informe_files/htmlwidgets-1.6.4/htmlwidgets.js"></script>
        <script src="Informe_files/plotly-binding-4.10.4/plotly.js"></script>
        <script src="Informe_files/typedarray-0.1/typedarray.min.js"></script>
        <link href="Informe_files/crosstalk-1.2.1/css/crosstalk.min.css" rel="stylesheet" />
        <script src="Informe_files/crosstalk-1.2.1/js/crosstalk.min.js"></script>
        <link href="Informe_files/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
        <script src="Informe_files/plotly-main-2.11.1/plotly-latest.min.js"></script>
    
    
    
    
    <!-- tabsets -->
    <script>
      $(document).ready(function () {
	  window.buildTabsets("toc");
      });
      $(document).ready(function () {
	  $('.tabset-dropdown > .nav-tabs > li').click(function () {
	      $(this).parent().toggleClass('nav-tabs-open')
	  });
      });
    </script>

    <!-- code folding -->
    
    <!-- code download -->
    
    <!-- tabsets dropdown -->

    <style type="text/css">
      .tabset-dropdown > .nav-tabs {
	  display: inline-table;
	  max-height: 500px;
	  min-height: 44px;
	  overflow-y: auto;
	  background: white;
	  border: 1px solid #ddd;
	  border-radius: 4px;
      }
      
      .tabset-dropdown > .nav-tabs > li.active:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
	  content: "&#xe258;";
	  border: none;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
	  content: "";
	  font-family: 'Glyphicons Halflings';
	  display: inline-block;
	  padding: 10px;
	  border-right: 1px solid #ddd;
      }
      
      .tabset-dropdown > .nav-tabs > li.active {
	  display: block;
      }

      .tabset-dropdown > .nav-tabs > li.active a {
  	  padding: 0 15px !important;
      }

      .tabset-dropdown > .nav-tabs > li > a,
      .tabset-dropdown > .nav-tabs > li > a:focus,
      .tabset-dropdown > .nav-tabs > li > a:hover {
	  border: none;
	  display: inline-block;
	  border-radius: 4px;
	  background-color: transparent;
      }
      
      .tabset-dropdown > .nav-tabs.nav-tabs-open > li {
	  display: block;
	  float: none;
      }
      
      .tabset-dropdown > .nav-tabs > li {
	  display: none;
	  margin-left: 0 !important;
      }
    </style>
    
</head>

<body class="preload">

   	
         <!-- readthedown start -->   
   <div id="content" data-toggle="wy-nav-shift">
     <nav id="nav-top" role="navigation" aria-label="top navigation">
       <a role="button" href="#" data-toggle="wy-nav-top"><span class="glyphicon glyphicon-menu-hamburger"></span></a>
     </nav>
         
   
        
      <h1 class="title">La Casa de Asterión: estimación de demanda y
optimización de precios de artículos de venta minorista</h1>
      
         <!-- readthedown authors -->
   <div id="sidebar">
    <h2><a href="#content">La Casa de Asterión: estimación de demanda y
optimización de precios de artículos de venta minorista</a></h2>
    <div id="toc">
      <ul>
      <li><a href="#introducci%C3%B3n" id="toc-introducción"><span
      class="toc-section-number">1</span> Introducción</a></li>
      <li><a href="#objetivos" id="toc-objetivos"><span
      class="toc-section-number">2</span> Objetivos</a></li>
      <li><a href="#metodolog%C3%ADa" id="toc-metodología"><span
      class="toc-section-number">3</span> Metodología</a>
      <ul>
      <li><a href="#datos" id="toc-datos"><span
      class="toc-section-number">3.1</span> Datos</a></li>
      <li><a href="#manejo-de-los-datos"
      id="toc-manejo-de-los-datos"><span
      class="toc-section-number">3.2</span> Manejo de los datos</a></li>
      </ul></li>
      <li><a href="#desarrollo" id="toc-desarrollo"><span
      class="toc-section-number">4</span> Desarrollo</a>
      <ul>
      <li><a href="#objetivo-1---estimaci%C3%B3n-de-demanda"
      id="toc-objetivo-1---estimación-de-demanda"><span
      class="toc-section-number">4.1</span> Objetivo 1 - Estimación de
      demanda</a>
      <ul>
      <li><a href="#preprocesamiento-de-los-datos"
      id="toc-preprocesamiento-de-los-datos"><span
      class="toc-section-number">4.1.1</span> Preprocesamiento de los
      datos</a></li>
      <li><a href="#an%C3%A1lisis-descriptivo"
      id="toc-análisis-descriptivo"><span
      class="toc-section-number">4.1.2</span> Análisis
      descriptivo</a></li>
      <li><a href="#t%C3%A9cnicas-estad%C3%ADsticas"
      id="toc-técnicas-estadísticas"><span
      class="toc-section-number">4.1.3</span> Técnicas
      estadísticas</a></li>
      <li><a href="#resultados" id="toc-resultados"><span
      class="toc-section-number">4.1.4</span> Resultados</a></li>
      </ul></li>
      <li><a href="#objetivo-2---optimizaci%C3%B3n-de-precios"
      id="toc-objetivo-2---optimización-de-precios"><span
      class="toc-section-number">4.2</span> Objetivo 2 - Optimización de
      precios</a>
      <ul>
      <li><a href="#preprocesamiento-de-los-datos-1"
      id="toc-preprocesamiento-de-los-datos-1"><span
      class="toc-section-number">4.2.1</span> Preprocesamiento de los
      datos</a></li>
      <li><a href="#an%C3%A1lisis-descriptivo-1"
      id="toc-análisis-descriptivo-1"><span
      class="toc-section-number">4.2.2</span> Análisis
      descriptivo</a></li>
      <li><a href="#t%C3%A9cnicas-estad%C3%ADsticas-1"
      id="toc-técnicas-estadísticas-1"><span
      class="toc-section-number">4.2.3</span> Técnicas
      estadísticas</a></li>
      <li><a href="#resultados-1" id="toc-resultados-1"><span
      class="toc-section-number">4.2.4</span> Resultados</a></li>
      </ul></li>
      </ul></li>
      <li><a href="#resultados-generales-y-conclusiones"
      id="toc-resultados-generales-y-conclusiones"><span
      class="toc-section-number">5</span> Resultados generales y
      conclusiones</a></li>
      </ul>
    </div>
    <div id="postamble" data-toggle="wy-nav-shift" class="status">
                  <p class="author"><span class="glyphicon glyphicon-user"></span> Gazze
Simón, Moresi Manuel, Santini Franco</p>
                        <p class="date"><span class="glyphicon glyphicon-calendar"></span> 2025-08-24</p>
          </div>
   </div>
     

   
      
   
<!-- Don't indent these lines or it will mess pre blocks indentation --> 
<div id="main">
<div id="introducción" class="section level1" number="1">
<h1><span class="header-section-number">1</span> Introducción</h1>
<p>La empresa <em>La Casa de Asterión</em> es una cadena de negocios
minoristas de artículos para el hogar, la cual cuenta con 15 tiendas en
distintas regiones de Estados Unidos. Recientemente dicha empresa ha
detectado una reducción en las ganancias y buscan evaluar y mejorar su
estrategia de precios para aumentar el rendimiento.</p>
<p>Teniendo en cuenta que la fijación de precios es un factor clave para
el rendimiento de cualquier negocio. Un precio demasiado alto puede
reducir el volumen de ventas, mientras que uno demasiado bajo puede
disminuir el margen de ganancia, incluso si la demanda aumenta.
Encontrar el punto de equilibrio adecuado requiere no solo un análisis
detallado de las ventas y de la elasticidad de la demanda, sino también
la consideración de factores externos como la competencia, la
estacionalidad y los cambios en las preferencias de los
consumidores.</p>
<div style="text-align: center;">
<p><img src="https://levainvierte.com/wp-content/uploads/2025/03/%C2%BFCuanto-es-lo-maximo-que-se-puede-invertir-en-CETES-Todo-lo-que-necesitas-saber-para-invertir-con-exito.jpg" width="650"/></p>
</div>
<p>Se busca comprender a fondo la relación entre sus precios, la demanda
y otros factores que puedan influir en su rendimiento, con el objetivo
de implementar una estrategia de precios más eficiente y orientada a
resultados.</p>
<p>Se trabajará con información proveniente de las transacciones
realizadas en 9 cadenas de negocios minoristas en un período de 3 años,
donde se podrá obtener información de cada uno de los negocios y
diferentes características relacionadas al producto que se vende.</p>
<p><strong>Aclaración</strong>: cuando se habla de transacción no
refiere al evento completo de la compra, sino a la cantidad de productos
iguales dentro de una compra.</p>
</div>
<div id="objetivos" class="section level1" number="2">
<h1><span class="header-section-number">2</span> Objetivos</h1>
<p>A lo largo de este trabajo tendremos en cuenta 2 objetivos
principales:</p>
<ol style="list-style-type: decimal">
<li><em>Predecir la demanda diaria de la semana siguiente a la
finalización de los datos disponibles</em>.</li>
</ol>
<p>En base a la información prevista de las transacciones, se busca
generar un modelo predictivo con el cual se pueda estimar de manera
adecuada la demanda en pesos ($) para cada uno de los días en la semana
posterior al fin de los datos (desde el 1/1/2024 al 7/1/2024) de los
distintos subgrupos de productos, en cada una de las tiendas
minoristas.</p>
<ol start="2" style="list-style-type: decimal">
<li><em>Proponer soluciones para maximizar la ganancia</em>.</li>
</ol>
<p>Como ya se mencionó anteriormente, la cadena <em>Casa de
Asterión</em> presentó una disminución de las ganancias en el último
tiempo. Por lo que se busca identificar, para cada producto, el precio
óptimo que maximice la ganancia, equilibrando el ingreso por unidad
vendida con el volumen total de ventas y de esta manera poder revertir
la situación.</p>
</div>
<div id="metodología" class="section level1" number="3">
<h1><span class="header-section-number">3</span> Metodología</h1>
<div id="datos" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Datos</h2>
<p>Fueron proporcionadas 6 bases de datos con distinta información
relevante para la realización de este trabajo:</p>
<ul>
<li><code>eci_transaction</code></li>
</ul>
<p>Es la base de datos principal en este trabajo, en ella se encuentra
información referida a las transacciones realizadas desde el 1 de enero
de 2021 hasta el 31 de diciembre de 2023, en las 157 tiendas minoristas
presentes en el estudio (pertenecientes a las 9 cadenas ya mencionadas).
Las variables aquí presentes son:</p>
<details>
<summary>
📂 Variables
</summary>
<ul>
<li><p><code>TRANSACTION_ID</code> : id de la transacción</p></li>
<li><p><code>DATE</code> : fecha de la transacción</p></li>
<li><p><code>STORE_ID</code> : id de la tienda</p></li>
<li><p><code>SKU</code>: número de referencia CCCGGSSXXX donde C es la
categoría, G el grupo, S subgrupo y X es el número secuencial del
producto</p></li>
<li><p><code>QUANTITY</code>: cantidad de productos que se vendieron en
esa transacción.</p></li>
<li><p><code>PRICE</code>: precio del producto.</p></li>
<li><p><code>TOTAL_SALES</code> (<code>PRICE</code> x
<code>QUANTITY</code>): dinero que recibe el local en una
transacción.</p></li>
<li><p><code>SUBGROUP</code>: subproducto.</p></li>
<li><p><code>STORE_SUBGROUP_DATE_ID</code>: es el id del subproducto en
cierta tienda y en cierta fecha.</p></li>
</ul>
</details>
<p><br></p>
<ul>
<li><code>eci_stores</code></li>
</ul>
<p>Contiene información particular de cada una de las distintas tiendas
minoristas,presentando información relacionada a la ubicación y al tipo
de tienda.En esta base de datos encontramos:</p>
<details>
<summary>
📂 Variables
</summary>
<ul>
<li><p><code>STORE_ID</code> : id de la tienda.</p></li>
<li><p><code>BRAND</code> : cadena a la que pertenece la
tienda.</p></li>
<li><p><code>STORE_NAME</code> (generalmente formado por BRAND - CITY):
nombre de la tienda.</p></li>
<li><p><code>ADDRESS1</code> y <code>ADDRESS2</code>: información sobre
la dirección de la tienda.</p></li>
<li><p><code>CITY</code>: ciudad de la tienda.</p></li>
<li><p><code>STATE</code> : estado de la tienda.</p></li>
<li><p><code>ZIP</code> : código postal de la tienda.</p></li>
<li><p><code>OPENDATE</code> y <code>CLOSEDATE</code> : fecha de inicio
y de cierre de la tienda.</p></li>
<li><p><code>STORE_TYPE</code>: tipo de tienda.</p></li>
<li><p><code>REGION</code>: región de la tienda.</p></li>
</ul>
</details>
<p><br></p>
<ul>
<li><code>eci_stores_cluster</code></li>
</ul>
<p>Este archivo contiene información de las tiendas minoristas,
repitiendo las variables <code>STORE_ID</code>, <code>BRAND</code> y
<code>STORE_NAME</code>, y agrega una variable que agrupa las tiendas
por zona o región:</p>
<details>
<summary>
📂 Variables
</summary>
<ul>
<li><p><code>STORE_ID</code> : id de la tienda.</p></li>
<li><p><code>BRAND</code> : cadena a la que pertenece la
tienda.</p></li>
<li><p><code>STORE_NAME</code> (generalmente formado por BRAND - CITY):
nombre de la tienda.</p></li>
<li><p><code>CLUSTER</code>: zona o región de la tienda.</p></li>
</ul>
</details>
<p><br></p>
<ul>
<li><code>eci_product_master</code></li>
</ul>
<p>Contiene información más específica de los productos como el nombre,
el precio inicial, el precio sugerido por el fabricante, los costos del
mismo, entre otras:</p>
<details>
<summary>
📂 Variables
</summary>
<ul>
<li><p><code>SKU</code>: número de referencia CCCGGSSXXX donde C es la
categoría, G el grupo, S subgrupo y X es el número secuencial del
producto</p></li>
<li><p><code>PRODUCT_NAME</code>: nombre del producto.</p></li>
<li><p><code>CATEGORY</code>: categoría del producto.</p></li>
<li><p><code>GROUP</code>: grupo del producto.</p></li>
<li><p><code>SUBGROUP</code>: subproducto.</p></li>
<li><p><code>BRAND</code>: cadena a la que pertenece la tienda.</p></li>
<li><p><code>base_price</code>: precio al que el negocio puso en venta
al producto en primera instancia.</p></li>
<li><p><code>initial_ticket_price</code>: precio del producto sugerido
por el fabricante.</p></li>
<li><p><code>costos</code>: costo del producto.</p></li>
</ul>
</details>
<p><br></p>
<ul>
<li><code>eci_product_groups</code></li>
</ul>
<p>En esta base se identifican productos que han estado en precio
promocional por algún motivo, contiene las siguientes variables:</p>
<details>
<summary>
📂 Variables
</summary>
<ul>
<li><p><code>SKU</code>: número de referencia CCCGGSSXXX donde C es la
categoría, G el grupo, S subgrupo y X es el número secuencial del
producto</p></li>
<li><p><code>PRODUCT_NAME</code>: nombre del producto.</p></li>
<li><p><code>price_group_id</code>: id de la promoción.</p></li>
<li><p><code>price_group_name</code>: nombre completo de la
promoción.</p></li>
<li><p><code>group_type</code>: tipo de promoción.</p></li>
</ul>
</details>
<p><br></p>
<ul>
<li><code>eci_customer_data</code></li>
</ul>
<p>Contiene información de 801923 clientes, identificando datos
personales de los mismos e identificando a los que son socios de dichas
cadenas:</p>
<details>
<summary>
📂 Variables
</summary>
<ul>
<li><p><code>client_id</code>: id del cliente.</p></li>
<li><p><code>phone_number</code>: número del cliente.</p></li>
<li><p><code>email_address</code>: dirección de email del
cliente.</p></li>
<li><p><code>city</code>: ciudad de residencia del cliente.</p></li>
<li><p><code>state</code>: estado de residencia del cliente.</p></li>
<li><p><code>zip_code</code>: codigo postal del lugar de residencia del
cliente.</p></li>
<li><p><code>education_level</code>: nivel de educación del
cliente.</p></li>
<li><p><code>occupation</code>: ocupación del cliente.</p></li>
<li><p><code>loyalty_member</code>: identifica si el cliente es socio o
no de la cadena.</p></li>
<li><p><code>loyalty_number</code>: número de socio del cliente en caso
de serlo.</p></li>
<li><p><code>loyalty_points</code>: puntos de membresía del cliente
socio.</p></li>
</ul>
</details>
</div>
<div id="manejo-de-los-datos" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Manejo de los
datos</h2>
<p>Antes de iniciar el análisis, fue necesario realizar una inspección
exhaustiva de los datos. Este proceso permitió identificar aspectos
relevantes vinculados al preprocesamiento, tales como la detección de
valores atípicos, la presencia de datos faltantes y otras cuestiones que
requerían tratamiento previo. Dichas cuestiones se enuncian a
continuación:</p>
<ul>
<li><em>Base de clientes (<code>eci_customer_data</code>).</em></li>
</ul>
<p>Al analizar las variables disponibles en esta base, quedó evidenciado
que no hay una variable que conecte la información aquí disponible con
el resto de las bases. Es decir, se cuenta con la información de los
clientes, pero no es posible identificar en que tienda compra cada uno,
o que transacción realiza cada uno. Por este motivo no se utilizará esta
información, al menos en este primer análisis.</p>
<ul>
<li><em>Outliers.</em></li>
</ul>
<p>Observando las variables cuantitativas de las bases de datos que se
usarán inicialmente <strong>no</strong> se detectaron valores
atípicos.</p>
<p>(Insertamos tabla con quartiles, minimo, media y maximo?)</p>
<ul>
<li><em>Valores faltantes.</em></li>
</ul>
<p>Se realizó una inspección por cada una de las variables de interés y
en la base de datos <code>eci_transaction</code> se encontraron valores
faltantes en la variable <code>QUANTITY</code>, la cual como mencionamos
anteriormente puede calcularse como
<code>TOTAL_SALES</code>/<code>PRICE</code>, de esta manera se pudo
reconstruir el dato e imputar todos los valores faltantes de dicha
variable.</p>
<p>En la base de datos <code>eci_stores</code>, hay datos faltantes en
las variables <code>ADDRESS2</code>, <code>CLOSEDATE</code> y
<code>STORE_TYPE</code>. Para las variables <code>ADDRESS2</code> y
<code>CLOSEDATE</code> puede que esto no sea un error en sí, sino que no
estén los datos debido a que la tienda no tiene una segunda dirección o
porque todavía no cerró respectivamente. Para la variable
<code>STORE_TYPE</code> encontramos 2 datos faltantes, en los locales
QuickBuy - Columbia y MarketExpress Lakewood Uptown, los cuales fueron
reemplazados por el valor <em>Unknown</em>, ya que no es posible saber
de que tipo de tienda se trata.</p>
<ul>
<li><em>Datos del subproducto “Basketball”.</em></li>
</ul>
<p>Al revisar la base de transacciones (<code>eci_transaction</code>) se
identificó que no existen registros asociados al subproducto
“Basketball”, a pesar de que este se encuentra incluido en la base de
productos (<code>eci_product_master</code>) y forma parte de los
subproductos a predecir en el primer objetivo. Una posible explicación
es que los SKU correspondientes a los subproductos de las categorías
“Basketball” y “Baseball” presentan coincidencias en su codificación
(por ejemplo, SPOTEBA001), lo que podría haber generado un error en el
proceso de carga de datos y derivado en la ausencia de registros para
“Basketball”.</p>
<p>Una alternativa para solucionar este problema fue realizar el
supuesto de que la demanda de ambos subproductos era similar, y en base
a esto realizar las correspondientes predicciones. Como no se cuenta con
la información de la demanda, ya que no se pueden identificarlos entre
las transacciones, a continuación se presentan sus valores promedios en
las variables <code>base_price</code>, <code>initial_ticket_price</code>
y <code>costos</code>:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 14px; color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
Subgrupo
</th>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
base_price promedio
</th>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
initial_ticket_price promedio
</th>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
costos promedio
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;width: 6em; ">
Baseball
</td>
<td style="text-align:center;width: 10em; ">
91.95
</td>
<td style="text-align:center;width: 14em; ">
109.11
</td>
<td style="text-align:center;">
54.75
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
Basketball
</td>
<td style="text-align:center;width: 10em; ">
94.03
</td>
<td style="text-align:center;width: 14em; ">
114.60
</td>
<td style="text-align:center;">
51.44
</td>
</tr>
</tbody>
</table>
<p>Se observan similitudes tanto en los precios iniciales promedio, como
en los costos promedios para los productos de Basketball y Baseball.</p>
</div>
</div>
<div id="desarrollo" class="section level1" number="4">
<h1><span class="header-section-number">4</span> Desarrollo</h1>
<div id="objetivo-1---estimación-de-demanda" class="section level2"
number="4.1">
<h2><span class="header-section-number">4.1</span> Objetivo 1 -
Estimación de demanda</h2>
<p>Para el desarrollo del Objetivo 1, se aplicarán técnicas de Machine
Learning con el propósito de entrenar los datos y estimar la demanda de
los distintos subproductos. Asimismo, se llevará a cabo un procedimiento
de estimación de precios correspondiente a la semana de referencia para
la generación de pronósticos. Estos valores estimados se incorporarán
como variables explicativas en el modelo, con el objetivo de predecir de
manera adecuada la demanda en la semana posterior al fin de los
datos.</p>
<div id="preprocesamiento-de-los-datos" class="section level3"
number="4.1.1">
<h3><span class="header-section-number">4.1.1</span> Preprocesamiento de
los datos</h3>
<p>Para la preparación de los datos, se realizaron diversos procesos de
depuración y combinación de las bases disponibles, con el fin de obtener
un conjunto único que permitiera entrenar el modelo de predicción de la
demanda.</p>
<p>En primer lugar, a partir de la base <code>eci_stores</code> se
identificaron y excluyeron aquellas tiendas que habían cerrado antes de
la semana del 1 al 7 de enero de 2024, ya que no tendría sentido estimar
demanda para locales que ya no se encontraban operativos.</p>
<p>Posteriormente se combinaron las bases <code>eci_stores</code> y
<code>eci_product_master</code> con la base
<code>eci_transactions</code>. De esta forma, cada transacción no solo
contiene información sobre la venta realizada, sino también el nombre y
la categoría del producto, la tienda donde se comercializó y su región,
la franquicia a la que pertenece, entre otras características.</p>
<p>Sobre esta base consolidada, se generaron 3 nuevas variables
temporales a partir de la columna <code>DATE</code>, extrayendo el día,
mes y año de cada transacción.</p>
<p>Finalmente, las transacciones se agruparon por día, por subproducto y
por tienda (<code>STORE_SUBGROUP_DATE_ID</code>), con el propósito de
entrenar los datos de esa manera y asi poder cumplir el objetivo de
predecir la demanda desde el 1/1/2024 al 7/1/2024 de los distintos
subproductos, en cada una de las tiendas minoristas. También, como dato
adicional, esto hace que se reduzca el costo computacional que conlleva
entrenar los datos, debido a la reduccion de filas en la base que este
agrupamiento implica, pasando de trabajar con 19.004.759 de datos a una
base final con 5.137.958 de datos.</p>
<p>En síntesis, el proceso de preparación de datos permitió pasar de
múltiples bases dispersas a un único conjunto de datos estructurado,
listo para ser utilizado en el entrenamiento de los modelos predictivos
y para el análisis descriptivo que sigue a continuación.</p>
</div>
<div id="análisis-descriptivo" class="section level3" number="4.1.2">
<h3><span class="header-section-number">4.1.2</span> Análisis
descriptivo</h3>
<p>Al querer estimar la demanda (<code>TOTAL_SALES</code>) de manera
adecuada, se plantea el análisis descriptivo buscando evidenciar que
variables entre las que se encuentran disponibles en nuestras bases
pueden influir en el comportamiento de la variable respuesta
mencionada.</p>
<p>Se cuenta con información de articulos pertenecientes a 73
subproductos distintos, e inicialmente se quiere evidenciar si hay
diferencias en la demanda para los distintos subproductos.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-b6dbad307f43eef1e2fd" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-b6dbad307f43eef1e2fd">{"x":{"visdat":{"3110636f53dc":["function () ","plotlyVisDat"]},"cur_data":"3110636f53dc","attrs":{"3110636f53dc":{"x":{},"y":{},"orientation":"h","marker":{"color":"#A61C3C"},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Top 20 Subgrupos por Demanda total (en $)","xaxis":{"domain":[0,1],"automargin":true,"title":"Demanda"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Subgrupo","type":"category","categoryorder":"array","categoryarray":["Infants","Camping","Specialty","Dining","Tops","Bakeware","Equipment","Outerwear","Utensils","Underwear","Bedroom","Laptops","Accessories","Tablets","Home Audio","Smartphones","Desktops","Wearables","Speakers","Headphones"]},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[128250106.31000046,103797873.98999903,102634013.78999971,100199561.30000155,98962190.420001477,90772604.680000022,79888241.600000069,79598503.689999878,78050374.120000228,32664970.500000067,30346177.17000011,29924226.179999866,28289517.409999635,27842597.010000132,26864587.710000187,26795349.640000228,26524891.850000162,26355308.959999945,26201402.840000018,25981260.980000205],"y":["Headphones","Speakers","Wearables","Desktops","Smartphones","Home Audio","Tablets","Accessories","Laptops","Bedroom","Underwear","Utensils","Outerwear","Equipment","Bakeware","Tops","Dining","Specialty","Camping","Infants"],"orientation":"h","marker":{"color":"#A61C3C","line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Claramente se observa que hay 9 subproductos que generaron mucha
mayor demanda que el resto, estos productos son <em>Headphones</em>,
<em>Speakers</em>, <em>Wearables</em>, <em>Desktops</em>,
<em>Smartphones</em>, <em>Home Audio</em>, <em>Tablets</em>,
<em>Accesories</em> y <em>Laptops</em>, acumulando un 42% de la demanda
total.</p>
<p>Estos artículos tienen características muy similares, todos ellos
corresponden a productos electrónicos vinculados principalmente a la
informática, telecomunicaciones y entretenimiento audiovisual.</p>
<p>Cada uno de estos subgrupos (se diferencias 73 subgrupos distintos)
se pueden agrupar en 23 grupos distintos, y a su vez estos grupos
pertenecen a 8 categorías distintas. A continuación se presentan las
distribuciones en relación a la demanda total para estas variables.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-89cdbd0995179d9fe76f" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-89cdbd0995179d9fe76f">{"x":{"visdat":{"31104a1b79dd":["function () ","plotlyVisDat"]},"cur_data":"31104a1b79dd","attrs":{"31104a1b79dd":{"labels":["Accessories","Apparel","Arts & Crafts","Bakeware","Baking","Baseball","Bedroom","Biography","Board Games","Bottoms","Boys","Camping","Canned Goods","Card Games","Children's Learning","Chips","Cleansers","Coffee","Cookies","Desktops","Dining","Dresses","Equipment","Eyes","Face","Figures","Girls","Headphones","Hiking","History","Home Audio","Infants","Jackets","Juice","Laptops","Learning","Lips","Living Room","Major Appliances","Moisturizers","Mystery","Nuts","Outerwear","Pants","Pasta","Playsets","Pots & Pans","Puzzles","Reference","Romance","STEM","Science Fiction","Self-Help","Shampoo","Shirts","Small Appliances","Smartphones","Soccer","Soda","Speakers","Specialty","Styling","Supplements","Tablets","Textbooks","Tops","Treatment","Treatments","Underwear","Utensils","Vehicles","Water Sports","Wearables","Action","Appliances","Audio","Beverages","Children","Computing","Cookware","Educational","Fiction","Fitness","Furniture","Games","Haircare","Makeup","Men","Mobile","Non-Fiction","Outdoor","Pantry","Skincare","Snacks","Team Sports","Women","Total"],"parents":["Mobile","Fitness","Educational","Cookware","Pantry","Team Sports","Furniture","Non-Fiction","Games","Women","Children","Outdoor","Pantry","Games","Educational","Snacks","Skincare","Beverages","Snacks","Computing","Furniture","Women","Fitness","Makeup","Makeup","Action","Children","Audio","Outdoor","Non-Fiction","Audio","Children","Men","Beverages","Computing","Educational","Makeup","Furniture","Appliances","Skincare","Fiction","Snacks","Women","Men","Pantry","Action","Cookware","Games","Educational","Fiction","Educational","Fiction","Non-Fiction","Haircare","Men","Appliances","Mobile","Team Sports","Beverages","Audio","Appliances","Haircare","Fitness","Computing","Educational","Women","Haircare","Skincare","Men","Cookware","Action","Outdoor","Mobile","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total",""],"values":[79598503.690000668,22856399.999999881,8801353.0400000308,26864587.710000318,6314979.199999976,22366295.969999913,32664970.500000358,8372820.3100000145,11257324.370000185,21697944.620000109,23261060.629999861,26201402.839999851,5264404.6699999711,9354039.4599999394,5960147.5000000121,7809228.8599999268,12387648.30000004,7407104.8000000492,7033631.7699999548,100199561.30000071,26524891.849999834,16213962.629999964,27842597.010000106,16370400.29000004,14653367.150000015,8409851.7899999656,16656296.120000001,128250106.31000049,23087145.320000265,11067580.140000064,90772604.680000767,25981260.980000529,15559759.109999962,4662190.6799999923,78050374.120000273,6692615.1300000362,16399357.389999842,22532087.870000061,24342382.529999942,9734594.6600000337,7572441.5599999838,6802390.0600000778,28289517.409999847,16074915.589999864,4506179.100000035,5874749.1699999534,24599699.140000049,5656398.5799999824,9227893.8200000525,9156006.3900001105,7863977.980000074,8945965.249999959,7023569.5400000438,12186872.499999942,21708477.019999839,20751260.570000082,98962190.420000389,20165566.070000179,4110809.0699999603,103797873.98999959,26355308.960000068,14787814.309999941,23188777.349999908,79888241.600000679,8795302.6900000703,26795349.64000022,9172048.8099999037,13994689.970000198,30346177.170000378,29924226.180000026,8860319.6899999958,22986817.979999796,102634013.78999943,23144920.649999917,71448952.060000092,322820584.98000085,16180104.550000001,65898617.730000392,258138177.02000165,81388513.030000389,47341290.16000028,25674413.200000055,73887774.359999895,81721950.220000252,26267762.410000108,36146735.619999789,47423124.829999894,83689328.890000045,281194707.90000045,26463969.990000121,72275366.139999911,16085562.969999982,36116932.930000275,21645250.68999996,42531862.040000096,92996774.300000146,1850482676.6700048],"branchvalues":"total","hoverinfo":"label+value+percent parent+percent root","textinfo":"label+value+percent parent+percent root","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"treemap"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Distribucion de la demanda por subproducto y categoria","x":0.5,"xanchor":"center"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"labels":["Accessories","Apparel","Arts & Crafts","Bakeware","Baking","Baseball","Bedroom","Biography","Board Games","Bottoms","Boys","Camping","Canned Goods","Card Games","Children's Learning","Chips","Cleansers","Coffee","Cookies","Desktops","Dining","Dresses","Equipment","Eyes","Face","Figures","Girls","Headphones","Hiking","History","Home Audio","Infants","Jackets","Juice","Laptops","Learning","Lips","Living Room","Major Appliances","Moisturizers","Mystery","Nuts","Outerwear","Pants","Pasta","Playsets","Pots & Pans","Puzzles","Reference","Romance","STEM","Science Fiction","Self-Help","Shampoo","Shirts","Small Appliances","Smartphones","Soccer","Soda","Speakers","Specialty","Styling","Supplements","Tablets","Textbooks","Tops","Treatment","Treatments","Underwear","Utensils","Vehicles","Water Sports","Wearables","Action","Appliances","Audio","Beverages","Children","Computing","Cookware","Educational","Fiction","Fitness","Furniture","Games","Haircare","Makeup","Men","Mobile","Non-Fiction","Outdoor","Pantry","Skincare","Snacks","Team Sports","Women","Total"],"parents":["Mobile","Fitness","Educational","Cookware","Pantry","Team Sports","Furniture","Non-Fiction","Games","Women","Children","Outdoor","Pantry","Games","Educational","Snacks","Skincare","Beverages","Snacks","Computing","Furniture","Women","Fitness","Makeup","Makeup","Action","Children","Audio","Outdoor","Non-Fiction","Audio","Children","Men","Beverages","Computing","Educational","Makeup","Furniture","Appliances","Skincare","Fiction","Snacks","Women","Men","Pantry","Action","Cookware","Games","Educational","Fiction","Educational","Fiction","Non-Fiction","Haircare","Men","Appliances","Mobile","Team Sports","Beverages","Audio","Appliances","Haircare","Fitness","Computing","Educational","Women","Haircare","Skincare","Men","Cookware","Action","Outdoor","Mobile","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total","Total",""],"values":[79598503.690000668,22856399.999999881,8801353.0400000308,26864587.710000318,6314979.199999976,22366295.969999913,32664970.500000358,8372820.3100000145,11257324.370000185,21697944.620000109,23261060.629999861,26201402.839999851,5264404.6699999711,9354039.4599999394,5960147.5000000121,7809228.8599999268,12387648.30000004,7407104.8000000492,7033631.7699999548,100199561.30000071,26524891.849999834,16213962.629999964,27842597.010000106,16370400.29000004,14653367.150000015,8409851.7899999656,16656296.120000001,128250106.31000049,23087145.320000265,11067580.140000064,90772604.680000767,25981260.980000529,15559759.109999962,4662190.6799999923,78050374.120000273,6692615.1300000362,16399357.389999842,22532087.870000061,24342382.529999942,9734594.6600000337,7572441.5599999838,6802390.0600000778,28289517.409999847,16074915.589999864,4506179.100000035,5874749.1699999534,24599699.140000049,5656398.5799999824,9227893.8200000525,9156006.3900001105,7863977.980000074,8945965.249999959,7023569.5400000438,12186872.499999942,21708477.019999839,20751260.570000082,98962190.420000389,20165566.070000179,4110809.0699999603,103797873.98999959,26355308.960000068,14787814.309999941,23188777.349999908,79888241.600000679,8795302.6900000703,26795349.64000022,9172048.8099999037,13994689.970000198,30346177.170000378,29924226.180000026,8860319.6899999958,22986817.979999796,102634013.78999943,23144920.649999917,71448952.060000092,322820584.98000085,16180104.550000001,65898617.730000392,258138177.02000165,81388513.030000389,47341290.16000028,25674413.200000055,73887774.359999895,81721950.220000252,26267762.410000108,36146735.619999789,47423124.829999894,83689328.890000045,281194707.90000045,26463969.990000121,72275366.139999911,16085562.969999982,36116932.930000275,21645250.68999996,42531862.040000096,92996774.300000146,1850482676.6700048],"branchvalues":"total","hoverinfo":["label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root","label+value+percent parent+percent root"],"textinfo":"label+value+percent parent+percent root","type":"treemap","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Tal como se mostraba anteriormente, los productos relacionados a la
electrónica son los que presentan mayor demanda (en $), evidenciandose
que los 9 productos que presentaban una mayor demanda que el resto se
agrupan en los 3 “grupos”: <em>Audio</em>, <em>Computing</em> y
<em>Mobile</em>. Siendo además los 3 grupos que conforman la categoría
<em>Electronics</em>.</p>
<p>Otra variable que puede influir en la demanda de cada categoría es la
fecha en la que se produjo la transacción, para esto se mostrará la
evolución de la demanda a través de los meses en los 3 años que abarca
este estudio.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-8d2964df0256c1b38ba4" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-8d2964df0256c1b38ba4">{"x":{"visdat":{"311027df1af6":["function () ","plotlyVisDat"]},"cur_data":"311027df1af6","attrs":{"311027df1af6":{"x":{},"y":{},"mode":"lines","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Evolución mensual de ventas - Categorías","xaxis":{"domain":[0,1],"automargin":true,"title":"Mes"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Ventas Totales"},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[3513658.6499999953,2919613.1200000136,3017184.4000000143,2874883.1800000067,3985914.1000000015,5687771.0499999803,5077519.7799999909,3964005.8799999971,3734212.1000000001,4031104.9299999825,4241771.9600000093,4063311.4499999904,3244568.2499999949,2634876.080000008,2768968.3699999955,2622310.7500000126,2803941.810000021,2918152.2500000093,3111131.7100000144,3593168.399999999,3344008.9099999908,3662399.2100000209,4821877.1700000213,3578786.9399999953,2907348.289999994,2341667.3199999994,2423776.1600000081,2287403.7200000109,2402236.6099999999,2567094.2100000069,2773825.0199999944,3041430.2200000277,2987681.3499999922,3231084.3100000108,3362578.0399999931,3145527.6799999913],"mode":"lines","type":"scatter","name":"Beauty","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[2232668.3100000015,1895003.1300000024,1956670.1800000039,1883268.9899999979,2035133.1099999873,2066391.4300000072,2332317.9600000051,2600083.890000002,2477172.2399999974,2627095.6700000218,2694692.8099999921,2563489.3600000157,2121118.0700000096,1725077.9299999913,1828883.7399999984,1741907.4699999965,1874774.1600000018,2143449.9199999976,2594644.1900000083,2407372.1099999952,2255238.5500000012,2387250.8699999992,2467801.9799999995,2283140.3599999873,1948978.229999993,1577747.4399999999,1664061.8099999963,1679285.6400000029,1762821.4000000011,1776285.0399999982,1910705.7599999993,2130131.4399999972,2025438.0000000049,2162642.5500000031,2266140.5899999849,2022842.8700000059],"mode":"lines","type":"scatter","name":"Books","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[7709181.5600000573,6398370.0700000301,6722499.8799999636,6284970.0799999936,6703433.3299999544,7187873.8400000213,9698678.960000053,8852388.1200000066,8132858.5300000347,8721488.8099999577,8987627.9000000153,8454414.6500000078,7024140.3499999531,5623365.8300000532,5887578.0500000361,5598605.0099999858,5897926.4200000074,6143409.5400000131,6659274.3699999638,7390269.0000000102,7198429.0200000191,7748917.7900000662,7863077.899999979,7422670.9900000365,5920444.5800000057,4891463.4799999902,5070490.0400000233,4697152.5500000035,4936065.4899999946,5322071.179999982,5747466.3500000127,6269655.0000000261,6006343.3300000448,6423120.9500000533,6838804.5999999549,6150193.3699999815],"mode":"lines","type":"scatter","name":"Clothing","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[26856419.680000134,22683891.770000007,23368779.479999993,22324347.849999987,23586150.910000086,23663189.089999996,26436437.830000017,30183992.569999963,28108827.15000027,29938740.519999936,31040671.99999994,29988555.500000108,24195685.389999948,19376711.260000061,20618704.970000081,28290548.800000269,30509574.189999953,20675156.719999928,31432297.150000118,25960180.270000122,25097483.889999993,26580343.17000005,27652955.230000079,25785134.510000065,20472712.969999976,16673831.090000046,17250656.879999984,16507561.879999936,17428156.809999965,18214870.400000043,19646616.520000041,22155774.070000019,20723423.590000056,22341587.099999901,24203069.229999959,22180429.460000034],"mode":"lines","type":"scatter","name":"Electronics","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[1568997.2699999982,1302116.8400000045,1397206.0299999968,1313472.6900000039,1407944.1100000055,1453766.1599999892,1616666.3400000064,1793152.1899999953,1724351.0900000096,1876298.3599999875,1862424.399999989,1770909.7200000067,1529359.7600000133,2015472.2100000035,1297030.440000002,1218594.0000000016,1310337.5500000045,1339569.4300000065,1464128.8599999954,1672932.0100000084,1557279.3799999985,1684309.0899999919,1725195.1200000034,1595663.9499999885,1363653.2699999907,1103740.5499999968,1148786.3900000036,1092834.0999999968,1149311.1199999957,1209002.4099999967,1665590.2000000037,1749466.3899999997,1416548.5699999849,1528797.7100000032,1565993.0799999994,1420017.4199999976],"mode":"lines","type":"scatter","name":"Groceries","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[6713869.4099999815,5575876.9400000172,5866658.0099999588,5606446.0299999807,6063010.9000000097,7625234.8900000127,11400787.619999971,10279028.629999969,7516912.2900000475,7897276.9000000004,7852674.3500000732,7505774.680000023,6189652.1600000355,5236422.6699999766,5426698.7200000249,5182287.8100000117,5456241.5700000292,5603430.5399999823,6147765.690000006,6924232.3599999798,6603872.8099999856,8319733.4199999757,9455211.2800000012,6815805.6499999482,5696495.0199999856,4616381.080000001,4879116.080000001,4700946.2300000302,4979746.6900000414,5197186.4099999936,5634724.6700000074,6305126.339999998,6049961.1700000083,6452135.7300000293,6735756.1899999883,6046934.3700000159],"mode":"lines","type":"scatter","name":"Home & Kitchen","marker":{"color":"rgba(255,217,47,1)","line":{"color":"rgba(255,217,47,1)"}},"textfont":{"color":"rgba(255,217,47,1)"},"error_y":{"color":"rgba(255,217,47,1)"},"error_x":{"color":"rgba(255,217,47,1)"},"line":{"color":"rgba(255,217,47,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[5762917.1899999939,4886430.0900000008,5074662.2000000076,4842119.3800000362,5137167.5799999982,5120179.4899999974,5701776.9800000023,8292469.72999998,6101314.5900000194,6826291.7599999821,6940327.5800000001,6663470.3900000388,5378335.2699999996,4432120.0099999914,4525124.8699999899,4310034.950000003,4627791.8100000191,4651301.3499999894,5000225.0900000017,5810752.5600000154,5450857.3800000045,5985184.7699999809,6408376.2899999516,6065758.6899999725,4713958.5099999998,3880088.2200000072,4063603.3800000031,3813805.190000019,3916712.7800000045,4046498.6199999969,4478267.2899999889,4909222.5200000145,4916172.5899999607,5206356.0800000019,5601902.1900000153,5153425.1700000353],"mode":"lines","type":"scatter","name":"Sports","marker":{"color":"rgba(229,196,148,1)","line":{"color":"rgba(229,196,148,1)"}},"textfont":{"color":"rgba(229,196,148,1)"},"error_y":{"color":"rgba(229,196,148,1)"},"error_x":{"color":"rgba(229,196,148,1)"},"line":{"color":"rgba(229,196,148,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[2143788.1800000058,1848138.9800000004,1881008.2700000089,1844131.3200000001,1928632.1800000018,1957528.0999999873,2185814.9600000079,2454209.5599999982,2378407.6699999976,2538585.7700000056,2688453.0699999901,2546457.5800000015,2056084.4599999902,1708433.1499999969,1740691.7000000046,1698959.2899999938,1788695.9800000004,1780381.5500000007,1954571.2000000097,2252405.2600000035,2110402.8899999964,2339281.8200000105,2481905.1800000016,2288360.6399999955,1868362.3300000008,1542775.8899999987,1585872.7099999955,1574210.7599999998,1654535.2299999986,1642677.3199999926,1823715.2099999932,2018158.1100000048,1981814.2100000076,2149574.9600000107,2224978.9800000042,2108624.7400000016],"mode":"lines","type":"scatter","name":"Toys","marker":{"color":"rgba(179,179,179,1)","line":{"color":"rgba(179,179,179,1)"}},"textfont":{"color":"rgba(179,179,179,1)"},"error_y":{"color":"rgba(179,179,179,1)"},"error_x":{"color":"rgba(179,179,179,1)"},"line":{"color":"rgba(179,179,179,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Viendo la evolución de la demanda por mes para las distintas
categorías, se podría detectar cierta estacionalidad, siendo los
primeros meses del año (generalmente desde enero hasta marzo/abril) los
que menor demanda tienen, lo cual es de esperarse porque suelen ser
meses de menor consumo. Es sabido que en los meses de noviembre y
diciembre el consumo crece mucho por las fiestas (Thanksgiving, Black
Friday, Navidad), posteriormente suele caer en los primeros meses del
año y suele volver a repuntar con el inicio de la primavera y algunas
campañas de compras (por ejemplo, “back to school” más adelante en el
año). A su vez, parece que la demanda a ido disminuyendo, levemente, a
lo largo de estos 3 años.</p>
<p>Se procede a analizar la demanda en las distintas regiones
geográficas en las cuales pertenecen estas tiendas:</p>
<p><img src="Informe_files/figure-html/unnamed-chunk-7-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>Se observa que los estados con mayor demanda monetaria se encuentran
en la zona de la costa este de Estados Unidos, concentrandose en los
estados de Nueva York, Florida, Georgia y Carolina del Sur. Pero este
análisis inicial no necesariamente brinda una evidencia con respecto a
que dichos estados influyen en las ventas de las tiendas, debido a que
hay distinta cantidad de tiendas en cada uno de estos. A continuación
para tratar este problema, se vuelve a realizar este gráfico pero
calculando la demanda promedio por tienda en cada uno de estos
estados:</p>
<p><img src="Informe_files/figure-html/unnamed-chunk-8-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>Al realizar esta modificación, el panorama ya no es el mismo y se
puede observar que los estados que mayor demanda promedio tienen se
ubican en el suroeste y son los estados de Nuevo México y Arizona
(contando con 2 y 5 tiendas respectivamente). Otra particularidad que no
se evidenciaba en el otro gráfico, es que los estados con menor demanda
promedio se encuentran todos en la región noroeste del país, lo que
lleva a pensar que puede que esa sea una zona con menor consumo.</p>
<p>A continuación, se analizará la demanda por tipo de tienda y por
marca:</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-82c1bc7384aa07712139" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-82c1bc7384aa07712139">{"x":{"data":[{"y":[292929161.7500065,231165629.17000309,487509368.01998252,535704304.97001117,61078433.499998994,84853592.269999221,96157813.340000436,24701951.030000087,36382422.619999446],"x":["Outlet","Express","Mall","Street","Boutique","Superstore","Flagship","Unknown","Warehouse"],"marker":{"color":"#A61C3C","line":{"color":"rgba(31,119,180,1)"}},"name":"Demanda total ($)","type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[25,19,44,44,5,7,8,2,3],"x":["Outlet","Express","Mall","Street","Boutique","Superstore","Flagship","Unknown","Warehouse"],"marker":{"color":"#DEB887","line":{"color":"rgba(255,127,14,1)"}},"name":"Cantidad Tiendas","type":"bar","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["Street","Mall","Outlet","Express","Flagship","Superstore","Boutique","Warehouse","Unknown"],"anchor":"y","tickfont":{"size":10}},"xaxis2":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["Street","Mall","Outlet","Express","Flagship","Superstore","Boutique","Warehouse","Unknown"],"anchor":"y2","tickfont":{"size":10}},"yaxis2":{"domain":[0,0.47999999999999998],"automargin":true,"title":"Tipo de Tienda","anchor":"x2"},"yaxis":{"domain":[0.52000000000000002,1],"automargin":true,"title":"Tipo de Tienda","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"title":"Demanda total ($) y Cantidad de Tiendas por Tipo","legend":{"font":{"size":8.5}}},"attrs":{"311023e94c4c":{"y":{},"x":{},"marker":{"color":"#A61C3C"},"name":"Demanda total ($)","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"3110342e3b13":{"y":{},"x":{},"marker":{"color":"#DEB887"},"name":"Cantidad Tiendas","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Se puede apreciar con claridad que las tiendas de tipo
<em>Street</em> y <em>Mall</em> son las que mayores demanda presentan,
con la particularidad que existen las mismas cantidades de tiendas de
estos tipos (44 cada uno), y sin embargo las de tipo <em>Street</em>
tuvieron una demanda de $48.194.937 mayor.</p>
<p>Al analizar los gráficos, se observa de manera lógica que una mayor
cantidad de tiendas se asocia con un incremento en la demanda.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-59843b8e99bd4d753ceb" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-59843b8e99bd4d753ceb">{"x":{"data":[{"y":[254768712.33999613,170412259.11999691,245221853.93999335,304705662.63999724,230736601.54000452,95947906.590001121,194627120.78999168,207344667.43000323,146717892.28000152],"x":["MegaShop","AsterionHouse","PrimeGoods","EssentialsPlus","MarketExpress","FamilyStore","BudgetShop","LuxeRetail","QuickBuy"],"marker":{"color":"#A61C3C","line":{"color":"rgba(31,119,180,1)"}},"name":"Demanda total ($)","type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"y":[22,15,21,25,19,8,17,17,13],"x":["MegaShop","AsterionHouse","PrimeGoods","EssentialsPlus","MarketExpress","FamilyStore","BudgetShop","LuxeRetail","QuickBuy"],"marker":{"color":"#DEB887","line":{"color":"rgba(255,127,14,1)"}},"name":"Cantidad Tiendas por Marca","type":"bar","error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x2","yaxis":"y2","frame":null}],"layout":{"xaxis":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["EssentialsPlus","MegaShop","PrimeGoods","MarketExpress","LuxeRetail","BudgetShop","AsterionHouse","QuickBuy","FamilyStore"],"anchor":"y","tickfont":{"size":7.5}},"xaxis2":{"domain":[0,1],"automargin":true,"type":"category","categoryorder":"array","categoryarray":["EssentialsPlus","MegaShop","PrimeGoods","MarketExpress","LuxeRetail","BudgetShop","AsterionHouse","QuickBuy","FamilyStore"],"anchor":"y2","tickfont":{"size":7.5}},"yaxis2":{"domain":[0,0.47999999999999998],"automargin":true,"title":"Marca","anchor":"x2"},"yaxis":{"domain":[0.52000000000000002,1],"automargin":true,"title":"Marca","anchor":"x"},"annotations":[],"shapes":[],"images":[],"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":true,"title":"Demanda total ($) y Cantidad de Tiendas por Marca","legend":{"font":{"size":8.5}}},"attrs":{"3110ad27fa2":{"y":{},"x":{},"marker":{"color":"#A61C3C"},"name":"Demanda total ($)","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"3110127825d9":{"y":{},"x":{},"marker":{"color":"#DEB887"},"name":"Cantidad Tiendas por Marca","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"subplot":true,"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Se evidencia que la marca <em>Essentials Plus</em> es la que mayor
demanda presenta, siendo también la marca con mayor cantidad de
tiendas.</p>
</div>
<div id="técnicas-estadísticas" class="section level3" number="4.1.3">
<h3><span class="header-section-number">4.1.3</span> Técnicas
estadísticas</h3>
<p>Antes de comenzar con el ajuste de modelos, se tiene en cuenta que la
variable a predecir es cuantitativa, por lo que se opta por utilizar
modelos de regresión. En primera instancia se consideraron varias
alternativas, como regresión lineal, Random Forest, modelos de series de
tiempo, entre otros. Sin embargo, dado el enfoque de predicción de cada
uno de ellos, se decide trabajar con Random Forest para captar
relaciones no lineales y predecir la demanda total de manera más
eficiente, las variables explicativas consideradas fueron:
<code>PRICE</code>, <code>SUBGROUP</code>, <code>STORE_TYPE</code>,
<code>REGION</code>, <code>STORE_ID</code>, <code>mes</code>,
<code>dia</code>, <code>año</code>, <code>category</code>,
<code>group</code> y <code>BRAND</code>.</p>
<p>Dado que Random Forest posee múltiples hiperparámetros, se lleva a
cabo un proceso de optimización de los mismos. Para ello, se divide el
conjunto de datos en 85% entrenamiento y 15% testeo. Dentro del 85%
destinado a entrenamiento se realiza un proceso de validación cruzada
con 4 “folds” con el objetivo de identificar aquellos hiperparámetros
que maximizan el <span class="math inline">\(R^2\)</span>. Luego, con el
15% restante se prueba el modelo ajustado con los hiperparámetros
óptimos, verificando que el <span class="math inline">\(R^2\)</span>
obtenido sea consistente con el alcanzado en el proceso de validación.
Finalmente, se reentrenará el modelo con los hiperparámetros óptimos con
la totalidad de los datos para posteriormente realizar la predicción de
la demanda total.</p>
<p><img src="optimizaci%C3%B3ndehiperpar%C3%A1metros.png" /></p>
<div
id="random-forest-modelos-sarima-para-la-determinación-del-precio-semanal"
class="section level4" number="4.1.3.1">
<h4><span class="header-section-number">4.1.3.1</span> Random Forest +
modelos SARIMA para la determinación del precio semanal</h4>
<p>En esta primera opción se plantea usar Random Forest para la
predicción de la demanda total, y modelos de series de tiempo para la
determinación del precio en el conjunto de datos a predecir. La
justificación del uso de modelos de series temporales se basa en que
dichos modelos pueden captar los patrones estacionales de los datos y
usar esa información resultará una buena estrategia para determinar el
precio.</p>
<p>Se utilizaron 10950 modelos SARIMA que resultan de las combinaciones
de las 150 tiendas y 73 subgrupos a predecir, las restantes 150
combinaciones son para las tiendas que venden subgrupos de productos de
“Basketball” pero éstas son imputadas al precio que se venden los
productos de “Baseball”, para modelar patrones semanales dado que se
intuye que los precios en una semana de cada subgrupo de productos en
cada tienda tienden a ser los mismos.</p>
<p>Para la determinación del precio en cada subgrupo de productos y en
cada tienda, se utilizó el precio mediano de cada producto vendido en
ese subgrupo de productos, en cada tienda y semana del año, la
utilización de la mediana se debe a que es más robusta ante datos
extremos, con esto nos referimos a que va a ser un estimador más
consistente del precio.</p>
<p>Dado que había tiendas que no vendían todos los subgrupos de
productos todas las semanas, en esas se uso un precio interpolado entre
la semana previa y la semana siguiente dando a entender que el precio se
comportó de forma estable, luego, si el precio al inicio de la semana
era faltante se usaba el precio de la semana siguiente y si el precio de
la última semana era faltante se usaba el precio de la semana anterior
(estos dos últimos casos son para inicio y final del período en estudio
respectivamente).</p>
</div>
<div
id="random-forest-modelos-sarima-para-la-determinación-del-precio-diario"
class="section level4" number="4.1.3.2">
<h4><span class="header-section-number">4.1.3.2</span> Random Forest +
modelos SARIMA para la determinación del precio diario</h4>
<p>En esta opción se trabaja de forma similar, se vuelve a utilizar
Random Forest para la predicción de la demanda total, y modelos de
series de tiempo para la determinación del precio en el conjunto de
datos a predecir.</p>
<p>La diferencia entre esta opción y la otra es la forma de como se
modelan las series temporales, en este caso, se utilizaron 10950 modelos
SARIMA que resultan de las combinaciones de las 150 tiendas y 73
subgrupos a predecir, las restantes 150 combinaciones son para las
tiendas que venden subgrupos de productos de “Basketball” pero éstas son
imputadas al precio que se venden los productos del “Baseball”, para
modelar patrones diarios e intentar captar la mayor cantidad de
información posible para el pronóstico del precio.</p>
<p>Nuevamente, para la determinación del precio en cada subgrupo de
productos y en cada tienda, se utilizó el precio mediano de cada
producto vendido en ese subgrupo de productos, en cada tienda y día del
año. Dado que había tiendas que no vendían todos los subgrupos de
productos todas los días, se usó un precio interpolado entre el/los
día/as previo/os y el/los día/as siguiente/es dando a entender que el
precio se comportó de forma estable, luego, si el precio al primer día
del año era faltante se usaba el precio de el/los día/as siguiente/es y
si el precio al último día del año era faltante se usaba el precio de
él/las semana/as anterior/es (estos dos últimos casos son para inicio y
final del período en estudio respectivamente).</p>
</div>
<div
id="modelos-de-gradient-boosting-sarima-para-la-determinación-del-precio-semanal"
class="section level4" number="4.1.3.3">
<h4><span class="header-section-number">4.1.3.3</span> Modelos de
“Gradient Boosting” + SARIMA para la determinación del precio
semanal</h4>
<p>En esta opción se plantea usar modelos de Gradient Boosting para la
predicción de la demanda total, que al igual que Random Forest, se
utiliza para captar relaciones no lineales en los datos, cabe aclarar
que no se realizó una optimización de hiperparámetros, pero se usaron
hiperparámetros a conciencia. Los modelos ARIMA utilizados para la
determinación del precio semanal fueron los mismos que se utilizaron en
la primera opción.</p>
</div>
</div>
<div id="resultados" class="section level3" number="4.1.4">
<h3><span class="header-section-number">4.1.4</span> Resultados</h3>
<p>En esta sección se presentan los resultados de la optimización de
hiperparámetros de Random Forest haciendo uso del <span
class="math inline">\(R^2\)</span> para elegir la mejor combinación y,
además, la inclusión de la métrica de la tabla pública del concurso
(Score), como métrica de comparación entre las opciones postuladas.</p>
<p>En la optimización de hiperparámetros de Random Forest se obtiene la
siguiente tabla:</p>
<table class="table table-striped table-hover table-condensed table-responsive" style="font-size: 14px; color: black; width: auto !important; margin-left: auto; margin-right: auto;">
<thead>
<tr>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
Árboles
</th>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
Ínstancias mínimas
</th>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
<span class="math inline">\(R^2\)</span> promedio
</th>
<th style="text-align:center;font-weight: bold;color: white !important;background-color: rgba(166, 28, 60, 255) !important;">
<span class="math inline">\(R^2\)</span> desvío
</th>
</tr>
</thead>
<tbody>
<tr>
<td style="text-align:center;width: 6em; ">
165
</td>
<td style="text-align:center;width: 10em; ">
9
</td>
<td style="text-align:center;width: 10em; ">
0.7741
</td>
<td style="text-align:center;width: 10em; ">
0.0017
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
117
</td>
<td style="text-align:center;width: 10em; ">
9
</td>
<td style="text-align:center;width: 10em; ">
0.7698
</td>
<td style="text-align:center;width: 10em; ">
0.0007
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
141
</td>
<td style="text-align:center;width: 10em; ">
5
</td>
<td style="text-align:center;width: 10em; ">
0.7684
</td>
<td style="text-align:center;width: 10em; ">
0.0028
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
70
</td>
<td style="text-align:center;width: 10em; ">
10
</td>
<td style="text-align:center;width: 10em; ">
0.7681
</td>
<td style="text-align:center;width: 10em; ">
0.0017
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
83
</td>
<td style="text-align:center;width: 10em; ">
6
</td>
<td style="text-align:center;width: 10em; ">
0.7668
</td>
<td style="text-align:center;width: 10em; ">
0.0016
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
194
</td>
<td style="text-align:center;width: 10em; ">
7
</td>
<td style="text-align:center;width: 10em; ">
0.7659
</td>
<td style="text-align:center;width: 10em; ">
0.0025
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
138
</td>
<td style="text-align:center;width: 10em; ">
9
</td>
<td style="text-align:center;width: 10em; ">
0.7648
</td>
<td style="text-align:center;width: 10em; ">
0.0020
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
128
</td>
<td style="text-align:center;width: 10em; ">
10
</td>
<td style="text-align:center;width: 10em; ">
0.7646
</td>
<td style="text-align:center;width: 10em; ">
0.0022
</td>
</tr>
<tr>
<td style="text-align:center;width: 6em; ">
116
</td>
<td style="text-align:center;width: 10em; ">
6
</td>
<td style="text-align:center;width: 10em; ">
0.7613
</td>
<td style="text-align:center;width: 10em; ">
0.0021
</td>
</tr>
</tbody>
</table>
<p>Se puede observar que la combinación de hiperparámetros que tiene
mayor <span class="math inline">\(R^2\)</span> promedio resulta de usar
165 árboles y 9 instancias mínimas. El Score de las predicciones usado
en Kaggle para las 3 estrategias antes presentadas fueron:</p>
<ul>
<li><p>Random Forest + modelos ARIMA para la determinación del precio
semanal: 0.12876</p></li>
<li><p>Random Forest + modelos ARIMA para la determinación del precio
diario: 0.10491</p></li>
<li><p>Gradient Boosting + modelos ARIMA para la determinación del
precio semanal: 0.13456</p></li>
</ul>
<p>Por lo tanto, el modelo usado para la predicción de la demanda total
en la primer semana de enero del 2024 fue <strong>Gradient Boosting +
modelos ARIMA para la determinación del precio semanal</strong>.</p>
</div>
</div>
<div id="objetivo-2---optimización-de-precios" class="section level2"
number="4.2">
<h2><span class="header-section-number">4.2</span> Objetivo 2 -
Optimización de precios</h2>
<p>Como se mencionó previamente, <em>La Casa de Asterión</em> necesita
mejorar su estrategia de precios, ya que se ha observado una disminución
en las ganancias y desea entender cómo ajustar sus precios para
optimizar la demanda y el margen de ganancias de sus productos.</p>
<p>Para abordar este objetivo, se emplearán técnicas de Machine Learning
con la finalidad de estimar la cantidad vendida de cada producto, a
partir de un conjunto de variables explicativas que permitan obtener la
mayor precisión posible en la predicción.</p>
<p>Luego de crear un modelo predictivo de la cantidad de ventas, se
deberán identificar los precios óptimos para cada producto que maximicen
la ganancia. Esto implica encontrar el equilibrio adecuado entre el
precio y la demanda para asegurar que la empresa obtenga el mayor
rendimiento posible.</p>
<div id="preprocesamiento-de-los-datos-1" class="section level3"
number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Preprocesamiento de
los datos</h3>
<p>A partir de la base creada luego de combinar las bases
<code>eci_transactions</code>, <code>eci_stores</code> y
<code>eci_product_master</code>, en donde se muestran todas las
transacciones con sus diferentes características, se procede a calcular
las ganancias para cada transacción, las cuales serán de vital
importancia para responder al objetivo en cuestión. El calculo se
realiza de la siguiente manera:</p>
<p><code>GANANCIAS</code> = <code>TOTAL_SALES</code> -
<code>QUANTITY</code> x <code>costos</code></p>
<p>A continuación, se realizará un análisis descriptivo con la base
armada para este objetivo.</p>
</div>
<div id="análisis-descriptivo-1" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Análisis
descriptivo</h3>
<p>Para comenzar a entender que factores influyen en las ganancias
producidas por los distintos productos, se mostrarán cuales son los
productos más vendidos a través de los 3 años de estudio.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-8b40b8b7128670c8740e" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-8b40b8b7128670c8740e">{"x":{"visdat":{"311029236c16":["function () ","plotlyVisDat"]},"cur_data":"311029236c16","attrs":{"311029236c16":{"y":{},"x":{},"marker":{"color":"#A61C3C"},"name":"Ventas","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Cantidad de unidades vendidas por producto","xaxis":{"domain":[0,1],"automargin":true,"title":"Producto","tickfont":{"size":9},"type":"category","categoryorder":"array","categoryarray":["Fashionista Infants Collection","GoodEats Fresh Coffee","TastyBites Gourmet Nuts","Attire Underwear Collection","Fashionista Tops Collection","LuxeBeauty Luxe Eyes","BeautyBasics Pro Lips","PageTurn Advanced History","FreshPick Fresh Soda","Bookworm Essential Mystery","GoodEats Fresh Chips","Fashionista Shirts Collection","TastyBites Organic Chips","ThreadWell Jackets Collection","ThreadWell Modern Boys","ThreadWell Infants Collection","ThreadWell Girls Collection","DressRight Tops Collection","Attire Infants Collection","DressRight Boys Collection"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Ventas"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[205692,130504,125760,118584,117502,104975,103392,100894,100886,96338,94757,93613,93219,92815,90297,89600,89542,89205,88774,88253],"x":["Fashionista Infants Collection","GoodEats Fresh Coffee","TastyBites Gourmet Nuts","Attire Underwear Collection","Fashionista Tops Collection","LuxeBeauty Luxe Eyes","BeautyBasics Pro Lips","PageTurn Advanced History","FreshPick Fresh Soda","Bookworm Essential Mystery","GoodEats Fresh Chips","Fashionista Shirts Collection","TastyBites Organic Chips","ThreadWell Jackets Collection","ThreadWell Modern Boys","ThreadWell Infants Collection","ThreadWell Girls Collection","DressRight Tops Collection","Attire Infants Collection","DressRight Boys Collection"],"marker":{"color":"#A61C3C","line":{"color":"rgba(31,119,180,1)"}},"name":"Ventas","type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Se observa que hay un producto que se ha vendido considerablemente
más que el resto, dicho producto es <em>Fashionista Infants
Collections</em> con un total de 205.692 ventas. Otra cuestión de
interes radica en que todos los productos con mayor cantidad de ventas
son productos con precios moderados/bajos, lo que indicaria que no
necesariamente se correspondan con los productos que mayor ganancia
proporcionaron. El precio promedio de estos productos a través de todas
las transacciones fue de $35,95.</p>
<p>También, como se comentó anteriormente, resulta de interés
identificar que productos son los que mayor ganancia generan, los cuales
probablemente esten asociado a los productos de mayor valor.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-5d69929ac311535740d4" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-5d69929ac311535740d4">{"x":{"visdat":{"311020aa2214":["function () ","plotlyVisDat"]},"cur_data":"311020aa2214","attrs":{"311020aa2214":{"y":{},"x":{},"marker":{"color":"#A61C3C"},"name":"Ganancias promedio por unidad","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Ganancias totales ($) por unidad","xaxis":{"domain":[0,1],"automargin":true,"title":"Producto","tickfont":{"size":9},"type":"category","categoryorder":"array","categoryarray":["CircuitCity Home Audio Edge X","Fashionista Infants Collection","TechPro Home Audio Ultra 2024","TechPro Laptops Elite 2025","CircuitCity Headphones Ultra 3","CircuitCity Headphones Pro Pro","CircuitCity Wearables Elite S","Innovate Speakers Plus 10","Innovate Speakers Plus 2025","TechPro Speakers Edge X","CircuitCity Laptops Pro S","Electra Wearables Edge 7","Innovate Desktops Elite 4","TechPro Accessories Air X","CircuitCity Accessories Pro 2024","TechPro Home Audio Edge 2025","Electra Home Audio Ultra 2025","Electra Speakers Ultra S","TechPro Desktops Plus S","Electra Laptops Ultra Pro"]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Ganancias promedio"},"hovermode":"closest","showlegend":false},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"y":[5013666.4400000237,5013399.2199999914,3660054.7299999674,3349004.2399999802,3311671.6600000104,3246613.7800000035,3040177.6899999874,3020573.0499999891,3011274.6499999748,2996447.8100000205,2956613.6399999615,2925271.2799999937,2897205.4400000009,2896813.8499999736,2880668.04,2861840.5700000273,2845791.329999987,2844780.4100000104,2820763.5400000717,2765459.7699999809],"x":["CircuitCity Home Audio Edge X","Fashionista Infants Collection","TechPro Home Audio Ultra 2024","TechPro Laptops Elite 2025","CircuitCity Headphones Ultra 3","CircuitCity Headphones Pro Pro","CircuitCity Wearables Elite S","Innovate Speakers Plus 10","Innovate Speakers Plus 2025","TechPro Speakers Edge X","CircuitCity Laptops Pro S","Electra Wearables Edge 7","Innovate Desktops Elite 4","TechPro Accessories Air X","CircuitCity Accessories Pro 2024","TechPro Home Audio Edge 2025","Electra Home Audio Ultra 2025","Electra Speakers Ultra S","TechPro Desktops Plus S","Electra Laptops Ultra Pro"],"marker":{"color":"#A61C3C","line":{"color":"rgba(31,119,180,1)"}},"name":"Ganancias promedio por unidad","type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Como se puede apreciar, hay dos productos que presentaron mayor
cantidad de ganancias totales; estos son <em>CircuitCity Home Audio Edge
X</em> y <em>Fashionista Infants Collection</em>, de las categorías
<em>Electronics</em> y <em>Clothing</em> respectivamente. También se
puede destacar de este gráfico, que 19 de los 20 productos que mayores
ganancias totales generaron fueron de la categoría <em>Electronics</em>,
la cual por lo visto anteriormente, es la de mayor demanda.</p>
<p>De los productos más vendidos solo <em>Fashionista Infants
Collection</em> se encuentra en el top de mayor ganancia, lo que nos
lleva a pensar que a pesar de venderse en menor cantidad, algunos de los
productos más costosos son los que mayor cantidad de ganancia generan.
El precio promedio de los productos que más ganancia generan es de
$304.97, casi 9 veces más caros que los productos más vendidos.</p>
<p>También resulta de interes evidenciar como evolucionó la ganancia que
generaron los distintos productos a través del tiempo, en este caso se
hace hincapié en los 5 productos que más ganancias generaron y se
grafican sus ganancias mensuales durante los 3 años de estudio.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-90496cbb2a2eb31cca52" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-90496cbb2a2eb31cca52">{"x":{"visdat":{"3110550c4fa2":["function () ","plotlyVisDat"]},"cur_data":"3110550c4fa2","attrs":{"3110550c4fa2":{"x":{},"y":{},"mode":"lines","color":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Evolución mensual de ganancias por producto","xaxis":{"domain":[0,1],"automargin":true,"title":"Mes","tickformat":"%Y-%m"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Ganancia total"},"legend":{"title":{"text":"Producto"},"font":{"size":8.5}},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[113676.28999999976,81928.410000000003,101997.66000000005,95788.789999999964,78179.289999999979,95920.019999999902,114562.90000000005,90289.420000000173,109373.89000000023,98882.580000000118,104440.82000000007,117695.31000000014,97819.510000000024,73584.539999999921,102897.81000000008,180690.65999999992,194830.99000000025,86794.249999999942,57266.66000000012,91193.070000000051,95481.329999999871,98638.269999999902,97038.629999999685,90263.47999999988,69924.930000000008,41687.839999999953,74317.859999999986,69881.039999999935,56604.280000000042,42993.080000000016,77288.770000000106,83812.860000000175,77951.87000000017,90206.710000000123,71466.619999999995,86301.219999999812],"mode":"lines","type":"scatter","name":"CircuitCity Headphones Ultra 3","marker":{"color":"rgba(102,194,165,1)","line":{"color":"rgba(102,194,165,1)"}},"textfont":{"color":"rgba(102,194,165,1)"},"error_y":{"color":"rgba(102,194,165,1)"},"error_x":{"color":"rgba(102,194,165,1)"},"line":{"color":"rgba(102,194,165,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[106977.67000000019,147972.00000000015,154195.67000000004,166928.0399999998,158229.1299999998,129657.04999999983,145628.94999999981,150423.14000000004,128295.03999999986,128951.77000000011,166860.15000000011,173065.69999999984,154938.57999999964,127428.64999999998,126396.3799999999,289156.24999999942,285670.17000000045,122572.13000000009,131829.49999999988,131308.79000000001,122041.56999999999,133294.03999999986,158323.66000000018,139506.03000000012,110601.69000000025,107894.52000000002,94487.33000000006,108386.17999999989,110099.52999999997,112092.61999999972,111963.86000000015,111346.3600000001,98043.44999999991,119175.41999999993,119385.5900000002,130539.83],"mode":"lines","type":"scatter","name":"CircuitCity Home Audio Edge X","marker":{"color":"rgba(252,141,98,1)","line":{"color":"rgba(252,141,98,1)"}},"textfont":{"color":"rgba(252,141,98,1)"},"error_y":{"color":"rgba(252,141,98,1)"},"error_x":{"color":"rgba(252,141,98,1)"},"line":{"color":"rgba(252,141,98,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[158075.27999999982,143502.93000000066,156863.55000000008,149501.47000000035,140364.69999999984,143910.20000000004,161605.56999999986,176720.9500000003,158658.83000000054,179023.54999999949,182333.16999999975,180299.3700000004,149179.88999999964,120491.10000000015,132722.42999999956,119456.68000000002,122631.09999999983,137216.30000000051,143399.34,143176.71000000057,143515.09000000032,147917.23999999926,154910.97999999954,150983.57999999949,112592.93999999975,109704.99000000018,105241.17000000039,101316.6599999999,108298.05999999998,113630.37000000042,112969.82000000024,137299.28000000105,118186.82000000018,132874.53000000009,139845.84000000005,124978.73000000017],"mode":"lines","type":"scatter","name":"Fashionista Infants Collection","marker":{"color":"rgba(141,160,203,1)","line":{"color":"rgba(141,160,203,1)"}},"textfont":{"color":"rgba(141,160,203,1)"},"error_y":{"color":"rgba(141,160,203,1)"},"error_x":{"color":"rgba(141,160,203,1)"},"line":{"color":"rgba(141,160,203,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[96223.490000000034,111895.00000000019,97648.340000000186,91870.08000000006,124394.81999999992,109353.98999999996,104040.67999999989,113194.77000000014,95701.020000000106,110104.27000000021,116203.48999999998,109047.70000000007,101544.10999999997,92989.600000000108,87853.529999999839,181391.01999999993,240639.42999999991,87467.039999999892,85308.629999999932,104160.07999999986,95816.940000000017,96096.200000000041,101719.21999999991,92269.460000000152,82533.950000000041,83880.609999999957,83336.329999999958,78012.959999999977,70574.209999999977,94095.549999999959,93292.019999999931,83266.249999999942,77474.900000000038,82727.980000000069,85310.440000000046,98616.620000000039],"mode":"lines","type":"scatter","name":"TechPro Home Audio Ultra 2024","marker":{"color":"rgba(231,138,195,1)","line":{"color":"rgba(231,138,195,1)"}},"textfont":{"color":"rgba(231,138,195,1)"},"error_y":{"color":"rgba(231,138,195,1)"},"error_x":{"color":"rgba(231,138,195,1)"},"line":{"color":"rgba(231,138,195,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":["2021-01-01","2021-02-01","2021-03-01","2021-04-01","2021-05-01","2021-06-01","2021-07-01","2021-08-01","2021-09-01","2021-10-01","2021-11-01","2021-12-01","2022-01-01","2022-02-01","2022-03-01","2022-04-01","2022-05-01","2022-06-01","2022-07-01","2022-08-01","2022-09-01","2022-10-01","2022-11-01","2022-12-01","2023-01-01","2023-02-01","2023-03-01","2023-04-01","2023-05-01","2023-06-01","2023-07-01","2023-08-01","2023-09-01","2023-10-01","2023-11-01","2023-12-01"],"y":[110825.67000000017,86527.879999999801,102122.4000000001,91512.890000000072,99089.200000000201,99641.919999999984,84154.919999999955,113298.41000000022,100807.12999999987,114578.3799999999,98978.639999999956,119012.73999999977,109682.98999999987,82492.650000000067,81926.039999999994,83709.290000000008,98697.300000000032,93736.120000000024,190606.48000000013,96611.990000000136,97721.910000000222,97024.850000000122,96174.700000000041,61920.459999999955,78164.679999999993,75060.93999999993,73049.310000000085,69138.499999999898,83711.110000000102,85196.910000000178,89141.829999999973,64196.080000000075,59561.769999999997,86029.029999999999,85691.940000000046,89207.179999999964],"mode":"lines","type":"scatter","name":"TechPro Laptops Elite 2025","marker":{"color":"rgba(166,216,84,1)","line":{"color":"rgba(166,216,84,1)"}},"textfont":{"color":"rgba(166,216,84,1)"},"error_y":{"color":"rgba(166,216,84,1)"},"error_x":{"color":"rgba(166,216,84,1)"},"line":{"color":"rgba(166,216,84,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Al ver la evolución de las ganancias mensuales de los 5 productos que
mayores ganacias totales generaron durante todo el período estidiado, se
puede observar un pico de rendimientos en la mayoría de los productos
durante mediados de 2022 y también un leve decrecimiento en las
ganancias a lo largo de estos años, lo cual es el principal mótivo por
el cual <em>La Casa de Asterión</em> busca mejorar su estrategia de
precios para así aumentar el rendimiento.</p>
<p>A continuación se hará uso de la georreferenciación, para evidenciar
si existen diferencias en las ganancias producidas por tiendas ubicadas
en los distintos estado de Estados Unidos, este gráfico inicial muestra
las ganancias totales según estado permitiendo identificar rápidamente
cuáles zonas aportan un mayor volumen de ingresos.</p>
<p><img src="Informe_files/figure-html/unnamed-chunk-15-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>En el gráfico anterior, se puede ver que los estados pertenecientes a
la costa este de los Estados Unidos son los que producen mayor cantidad
de ganancias, pero como se comentó anteriormente esto va a estar muy
influenciado por la cantidad de tiendas presentes en cada estado. Para
tener un panorama más real en relación a las diferencias en las
ganancias de cada estado, se realizará el mismo gráfico pero calculando
la ganancia promedio por tienda dentro de cada estado.</p>
<p><img src="Informe_files/figure-html/unnamed-chunk-16-1.png" width="768" style="display: block; margin: auto;" /></p>
<p>Se evidencia que la situación vuelve a cambiar, siendo un poco más
similar la ganancia en todos los estados. Lo que si es destacable es que
los estados pertenencientes al noreste del país presentan las menores
ganancias por tienda entre todos los estados. Otro caso particular se da
en el estado de Nuevo México, siendo el segundo estado con menores
ganancias totales y el estado con mayor ganancias por tienda entre todos
los estos, esto se debe a que solo hay 2 tiendas en esa región.</p>
<p>Por último, se desea evidenciar si la ganancia que producen los
productos se debe a qué tanto se aumenta su precio en relación al costo
del mismo (markup). Por este motivo se calcula el porcentaje de aumento
en relación al costo para cada transacción de la siguiente manera:
(<code>PRICE</code> - <code>costos</code>)/<code>costos</code> y, en
base a eso, se agrupan los datos en percentiles. Esto permite comparar
de manera más equitativa los productos, independientemente de su nivel
de precio, y observar qué rangos de aumento de precio generan mayor
ganancia total. De esta manera, el análisis busca identificar los
niveles de markup más efectivos para maximizar la rentabilidad.</p>
<div class="plotly html-widget html-fill-item" id="htmlwidget-163a4c88ecc6983b9d7e" style="width:768px;height:480px;"></div>
<script type="application/json" data-for="htmlwidget-163a4c88ecc6983b9d7e">{"x":{"visdat":{"311024a1b29":["function () ","plotlyVisDat"]},"cur_data":"311024a1b29","attrs":{"311024a1b29":{"x":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"bar","name":"Ganancia total","hoverinfo":"text+y","marker":{"color":"#A61C3C"},"inherit":true},"311024a1b29.1":{"x":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"y":{},"type":"scatter","mode":"lines","name":"Cantidad de ventas","yaxis":"y2","hoverinfo":"text+y","marker":{"color":"#DEB887"},"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":"Ganancias y Ventas por percentil","xaxis":{"domain":[0,1],"automargin":true,"title":"Percentil","showgrid":false},"yaxis":{"domain":[0,1],"automargin":true,"title":"Ganancia total","showgrid":false,"side":"right"},"yaxis2":{"title":"Ventas totales","overlaying":"y","side":"left","titlefont":{"color":"black"},"tickfont":{"color":"black"}},"legend":{"x":0.69999999999999996,"y":0.94999999999999996},"hovermode":"closest","showlegend":true},"source":"A","config":{"modeBarButtonsToAdd":["hoverclosest","hovercompare"],"showSendToCloud":false},"data":[{"x":[1,2,3,4,5],"y":[67619152.709999993,201230530.52000001,143170804.87,126074170.65000001,116663626.17],"type":"bar","name":"Ganancia total","hoverinfo":["text+y","text+y","text+y","text+y","text+y"],"marker":{"color":"#A61C3C","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[1,2,3,4,5],"y":[5764256,5472865,5408012,5291998,5312745],"type":"scatter","mode":"lines+markers","name":"Cantidad de ventas","yaxis":"y2","hoverinfo":["text+y","text+y","text+y","text+y","text+y"],"marker":{"color":"#DEB887","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.20000000000000001,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Se observa que a pesar de que los productos del primer percentil
(precios más cercanos al costo) fueron los que más cantidad de ventas
producieron, no necesariamente se condice con el percentil que más
ganancias generaron para la empresa.</p>
<p>En particular, el segundo percentil —correspondiente a aumentos de
precios entre el 30% y el 60% sobre el costo— fue el que produjo la
mayor ganancia total. Esto es un tema crucial a la hora de definir
precios óptimos, ya que, es evidente que a mayores precios se obtiene
una mayor ganancia unitaria, pero esta medida afectará la cantidad de
ventas. Por lo que poder entender que porcentaje de recargo realizar en
cada producto es fundamental para maximizar la ganancia de cualquier
negocio.</p>
</div>
<div id="técnicas-estadísticas-1" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Técnicas
estadísticas</h3>
<p>Para optimizar el precio con el objetivo de maximizar la ganancia, se
buscó modelar la cantidad vendida en función de distintas variables
explicativas: <code>PRICE</code>, <code>STORE_ID</code>,
<code>SKU</code>, <code>category</code>, <code>group</code>,
<code>BRAND</code> y <code>REGION</code>. Inicialmente se evaluaron
diferentes enfoques, como Regresión Poisson, Random Forest y Gradient
Boosting, sin embargo, debido a la sobredispersión observada en los
datos, se optó por utilizar modelos más flexibles, capaces de capturar
relaciones no lineales, destacándose en este sentido los modelos de
Gradient Boosting.</p>
<p>Una vez entrenado el modelo, se construyó una grilla de precios que
abarca desde el valor mínimo hasta el máximo observado, con una longitud
de 25 puntos. Para cada precio de la grilla se estimó la cantidad
vendida utilizando el modelo ajustado. A partir de estas predicciones se
calculó la variable: <code>GANANCIAS</code> = (<code>PRICE</code> -
<code>costos</code>) x <code>QUANTITY</code>, y finalmente se seleccionó
el precio que maximiza dicha ganancia.</p>
</div>
<div id="resultados-1" class="section level3" number="4.2.4">
<h3><span class="header-section-number">4.2.4</span> Resultados</h3>
<p>……</p>
</div>
</div>
</div>
<div id="resultados-generales-y-conclusiones" class="section level1"
number="5">
<h1><span class="header-section-number">5</span> Resultados generales y
conclusiones</h1>
<p>Ideas:</p>
<p>Zonas de mayor ventas</p>
<p>Centrarse en los productos mas caros, que generan mas ganancias</p>
<p>Hacer un mapa de la ubicacion de los clientes y planificar en base a
eso</p>
<p><img src="Informe_files/figure-html/unnamed-chunk-18-1.png" width="768" style="display: block; margin: auto;" /></p>
</div>
</div>

   
   
            
      

  <script>
    $(document).ready(function () {

			
 		
	    });
  </script>



    <!-- dynamically load mathjax for compatibility with self-contained -->
  <script>
    (function () {
	var script = document.createElement("script");
	script.type = "text/javascript";
	script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
	document.getElementsByTagName("head")[0].appendChild(script);
    })();
  </script>
  
</body>
</html>
